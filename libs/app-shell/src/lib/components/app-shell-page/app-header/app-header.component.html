<ng-template [ngIf]="shellBar" [ngIfElse]="default">
    <!--
       Application is using fd-shellbar directly
       -->
    <ng-content select="fd-shellbar"></ng-content>
</ng-template>


<ng-template #default>
    <fd-shellbar>
        <fd-shellbar-logo>
            <ng-template [ngIf]="logoSrc" [ngIfElse]="defaultLogo">
                <h4>customer logo</h4>
                <a href="#" class="fd-shellbar__logo"
                   style="cursor: pointer"
                   tabindex="0"
                   data-tag="shellbar__logo"
                   role="button" (click)="onLogoClick($event)"
                   [attr.title]="logoAlt || 'SAP Logo'">
                    <img [attr.src]="logoSrc" width="48" height="24" [attr.alt]="logoAlt || 'SAP logo'">
                </a>
            </ng-template>
        </fd-shellbar-logo>

        <!--
            IF we have pMenu then dont show <fd-shellbar-title>
        -->
        <fd-product-menu *ngIf="(_appShell?.shellBar._productMenu$ | async) as pMenu"
                         [control]="_appShell?.shellBar._title$ | async"
                         [items]="pMenu"
                         [closePopoverOnSelect]="true">
        </fd-product-menu>

        <ng-template [ngIf]="(_appShell?.shellBar._productMenu$ | async) === null">
            <fd-shellbar-title *ngIf="(_appShell?.shellBar._title$ | async) as rTitle">
                {{rTitle}}
            </fd-shellbar-title>

        </ng-template>


        <fd-shellbar-subtitle *ngIf="(_appShell?.shellBar._subTitle$ | async) as rSubTitle">
            {{rSubTitle}}
        </fd-shellbar-subtitle>


        <fd-shellbar-actions [user]="(_appShell?.shellBar._user$ | async)"
                             [userMenu]="(_appShell?.shellBar._userMenu$ | async)"
                             [closePopoverOnSelect]="true">

            <button fd-button
                    *ngIf="(_appShell?.shellBar._themeMenu$ | async) as themeMenu"
                    glyph="palette"
                    class="fd-shellbar__button--menu fds-app--theme-menu"
                    fdType="transparent"
                    [fdMenu]="true"
                    [fdMenuTrigger]="themesMenu">
            </button>

            <fd-menu #themesMenu
                     [fillControlMode]="null"
                     placement="bottom-end">
                <li fd-menu-item *ngFor="let theme of (_appShell?.shellBar._themeMenu$ | async) as themes">
                    <div fd-menu-interactive (click)="onSelectTheme(theme.id, theme.name)">
                        <span fd-menu-title>{{ theme.name }}</span>
                    </div>
                </li>
            </fd-menu>


        </fd-shellbar-actions>

    </fd-shellbar>

    <link rel="stylesheet" [href]="_cssUrl"/>

</ng-template>


<ng-template #defaultLogo>
    <a href="#" class="fd-shellbar__logo fd-shellbar__logo--image-replaced" aria-label="SAP"
       (click)="onLogoClick($event)"></a>
</ng-template>

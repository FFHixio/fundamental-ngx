<ng-container #viewContainer></ng-container>

<ng-template #menuRootTemplate>
    <nav [attr.aria-label]="ariaLabel"
         [attr.aria-labelledby]="ariaLabelledby"
         [id]="id"
         [ngClass]="{
            'fd-menu--compact': compact,
            'fd-menu--mobile': mobile
         }"
         class="fd-menu">
        <ul [class.fd-menu__list--no-shadow]="mobile"
            class="fd-menu__list">
            <ng-content></ng-content>
        </ul>
    </nav>
</ng-template>

<ng-template #menuWithPopover>
    <div #popoverContainer
         (isOpenChange)="handlePopoverOpenChange($event)"
         (loaded)="focusFirst()"
         [appendTo]="popoverContainer"
         [closeOnEscapeKey]="closeOnEscapeKey"
         [closeOnOutsideClick]="closeOnOutsideClick"
         [disabled]="disabled"
         [fdPopover]="menuRootTemplate"
         [fillControlMode]="fillControlMode"
         [isOpen]="isOpen"
         [noArrow]="noArrow"
         [options]="options"
         [placement]="placement"
         [popoverTrigger]="trigger"
         [triggers]="[]">
    </div>
</ng-template>

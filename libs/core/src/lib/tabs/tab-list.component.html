<ul
    [ngClass]="(compact ? 'fd-tabs--compact ' : '') + (mode ? 'fd-tabs--' + mode : '') + (' fd-tabs--' + size)"
    class="fd-tabs"
    role="tablist"
>
    <ng-container *ngFor="let tab of panelTabs.toArray(); let i = index">
        <li [header]="tab.header" [tabItemState]="tab.tabState" fd-tab-item>
            <a
                (click)="tabHeaderClickHandler(i)"
                (keydown)="tabHeaderKeyHandler(i, $event)"
                [active]="tab.expanded"
                [attr.aria-controls]="tab.id"
                [attr.aria-label]="tab.ariaLabel || null"
                [attr.aria-labelledby]="!tab.ariaLabel && tab.ariaLabelledBy ? tab.ariaLabelledBy : null"
                [attr.tabindex]="0"
                [disabled]="tab.disabled"
                fd-tab-link
            >
                <ng-container *ngIf="tab.titleTemplate">
                    <ng-container [fd-tab-load-title]="tab.titleTemplate"></ng-container>
                </ng-container>

                <ng-container *ngIf="!tab.titleTemplate" [ngSwitch]="mode">
                    <ng-container *ngSwitchCase="'filter'">
                        <span *ngIf="tab.header" fd-tab-header>
                            <span *ngIf="tab.count" fd-tab-counter-header>{{ tab.count }}</span>
                            <span *ngIf="tab.title" fd-tab-label>{{ tab.title }}</span>
                        </span>
                        <ng-container *ngIf="!tab.header">
                            <span [icon]="tab.glyph" fd-tab-icon>
                                <p fd-tab-count>{{ tab.count }}</p>
                            </span>
                            <span fd-tab-label>{{ tab.title }}</span>
                        </ng-container>
                    </ng-container>

                    <ng-container *ngSwitchCase="'icon-only'">
                        <span [icon]="tab.glyph" fd-tab-icon>
                            <p fd-tab-count>{{ tab.count }}</p>
                        </span>
                    </ng-container>

                    <ng-container *ngSwitchCase="'process'">
                        <span *ngIf="tab.glyph" [icon]="tab.glyph" fd-tab-icon></span>
                        <div fd-tab-process>
                            <span *ngIf="tab.count" fd-tab-label>{{ tab.count }}</span>
                            <span *ngIf="tab.title" fd-tab-label>{{ tab.title }}</span>
                        </div>
                    </ng-container>

                    <ng-container *ngSwitchDefault>
                        <p *ngIf="tab.count" fd-tab-count>{{ tab.count }}</p>
                        <span fd-tab-tag>{{ tab.title }}</span>
                    </ng-container>
                </ng-container>
            </a>
            <div *ngIf="mode === 'process' && i !== panelTabs.length - 1" fd-tab-process-icon></div>
        </li>

        <div *ngIf="tab.header" fd-tab-separator></div>
    </ng-container>
</ul>
<ng-content select="fd-tab"></ng-content>
<ng-content></ng-content>
